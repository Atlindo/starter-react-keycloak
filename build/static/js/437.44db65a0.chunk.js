"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[437],{7239:function(e,n,t){var i,r=t(168),l=t(9439),o=t(2791),a=t(364),c=t(2554),s=t(6443),d=t(4923);n.Z=function(e){var n=e.children,t=e.background,u=e.className,v=e.overlap,f=(0,o.useState)(0),h=(0,l.Z)(f,2),m=h[0],x=h[1],p=(0,o.useRef)(null),Z=(0,a.v9)((function(e){return e.theme.navType})),g=(0,a.v9)((function(e){return e.theme.currentTheme}));(0,o.useEffect)((function(){if(Z===s.XA){var e=window.innerWidth,n=p.current.offsetWidth;x((e-n)/2)}}),[Z]);return(0,d.tZ)("div",{ref:p,css:(0,c.iv)(i||(i=(0,r.Z)(["\n        background-color: ",";\n        padding: ","px;\n        margin-top: -","px;\n        margin-left: -","px;\n        margin-right: -","px;\n\n        @media "," {\n          margin-left: -","px;\n          margin-right: -","px;\n        }\n\n        ","\n      "])),"dark"===g?"#2f3a50":s.wx.WHITE,s.hv.LAYOUT_CONTENT_GUTTER,s.hv.LAYOUT_CONTENT_GUTTER,s.hv.LAYOUT_CONTENT_GUTTER,s.hv.LAYOUT_CONTENT_GUTTER,s.qk.MOBILE,s.hv.LAYOUT_CONTENT_GUTTER_SM,s.hv.LAYOUT_CONTENT_GUTTER_SM,v?"margin-bottom: -4.6875rem;":""),className:"page-header-alt ".concat(u||""),style:function(){var e={backgroundImage:t?"url(".concat(t,")"):"none"};return Z===s.XA&&(e.marginRight=-m,e.marginLeft=-m,e.paddingLeft=0,e.paddingRight=0),e}(),children:Z===s.XA?(0,d.tZ)("div",{className:"container",children:n}):(0,d.tZ)(d.HY,{children:n})})}},872:function(e,n,t){t(2791);var i=t(2279),r=t(6112),l=t(5033),o=t(184),a=function(e){return(0,o.jsx)(i.Z,{overlay:e.menu,placement:e.placement,trigger:["click"],children:(0,o.jsx)("div",{className:"ellipsis-dropdown",children:(0,o.jsx)(l.Z,{})})})};a.defaultProps={trigger:"click",placement:"bottomRight",menu:(0,o.jsx)(r.Z,{})},n.Z=a},9345:function(e,n,t){t.d(n,{Z:function(){return r}});t(2791);var i=t(184);function r(e){return(0,i.jsx)("div",{className:["mx-auto ".concat(null!==e&&void 0!==e&&e.fluid?"max-w-[1280px] w-full":"container"),null===e||void 0===e?void 0:e.className].join(" "),children:null===e||void 0===e?void 0:e.children})}},8437:function(e,n,t){t.r(n),t.d(n,{default:function(){return ie}});var i=t(5671),r=t(3144),l=t(136),o=t(9388),a=t(2791),c=t(364),s=t(1630),d=t(4520),u=t(2939),v=t(5027),f=t(161),h=t(7239),m=t(9345),x=t(9305),p=t(1413),Z=t(9439),g=t(368),j=t(7689),y=t(763),k=t(184),b=g.Z.TabPane;function C(e){var n=e.items,t=void 0===n?[]:n,i=e.mode,r=e.tab,l=void 0===r?{}:r,o=e.onListen,c=e.paramsKey,s=e.defaultTab,d=(0,j.TH)(),v=(0,a.useState)((function(){var e,n,i=new URLSearchParams(d.search).get(null!==c&&void 0!==c?c:"tab");return i?null===(n=i.toString())||void 0===n?void 0:n.toLowerCase():s||(null!==(e=(0,y.first)(t).key)&&void 0!==e?e:"detail")})),f=(0,Z.Z)(v,2),h=f[0],m=f[1];function x(e){"undefined"!==typeof o&&"function"===typeof o&&o(e),m(e),function(e){if(window){var n=new URLSearchParams(window.location.search);n.get(null!==c&&void 0!==c?c:"tab")?n.set(null!==c&&void 0!==c?c:"tab",e):n.append(null!==c&&void 0!==c?c:"tab",e);var t=[];n.forEach((function(e,n){t.push("".concat(n,"=").concat(e))}));var i=[window.origin,d.pathname].join("");window.history.pushState({article:"read-all"},"Read All Article",[i,t.join("&")].join("?"))}}(e)}return(0,k.jsx)(g.Z,(0,p.Z)((0,p.Z)({},l),{},{mode:null!==i&&void 0!==i?i:"top",tabPosition:null!==i&&void 0!==i?i:"top",defaultActiveKey:"".concat(h),activeKey:"".concat(h),onChange:x,children:Array.isArray(t)&&t.length>0?t.map((function(e,n){return(0,k.jsx)(b,{tab:(0,k.jsx)(u.Z.Text,{className:"!mk-text-xs",children:null===e||void 0===e?void 0:e.title}),children:"function"===typeof(null===e||void 0===e?void 0:e.render)?null===e||void 0===e?void 0:e.render({current:h,onChange:x}):null},"".concat(null===e||void 0===e?void 0:e.key))})):null}))}C.defaultProps={paramsKey:"tab",tab:{defaultTab:"overview"},mode:"top"};var T=C,w=t(3425),I=t(9862),A=t(6112),S=t(6473),N=t(678),E=t(4260),P=t(1752),R=t(3605),O=t(9286),_=t(872),U=t(2184);var L=function(){var e,n=(0,j.s0)(),t=(0,w.Eh)(),i=t.keycloak,r=(t.initialized,(0,a.useState)(!1)),l=(0,Z.Z)(r,2),o=l[0],c=l[1],s=(0,a.useState)([]),u=(0,Z.Z)(s,2),v=u[0],f=u[1],h=(0,a.useState)({first:0,max:10}),m=(0,Z.Z)(h,2),g=m[0],y=m[1],b=[{visible:!1,title:"ID",dataIndex:"id",width:"70px"},{fixed:"left",width:"180px",visible:!0,title:"Client ID",dataIndex:"clientId"},{width:"200px",visible:!0,title:"Name",dataIndex:"name",render:function(e){return e?e.replace(/\$\{|}/g,""):"-"}},{width:"160px",visible:!0,title:"Type",dataIndex:"protocol",render:function(e){return"openid-connect"===e?"OpenID Connect":e}},{width:"200px",visible:!0,title:"Description",dataIndex:"description",render:function(e){return null!==e&&void 0!==e?e:"-"}},{width:"300px",visible:!0,title:"Home URL",dataIndex:"baseUrl",render:function(e){return(0,k.jsx)("a",{target:"_blank",href:null!==e&&void 0!==e&&e.startsWith("/realms")||null!==e&&void 0!==e&&e.startsWith("/admin")?[i.authServerUrl.slice(0,i.authServerUrl.length-1),e].join(""):e,rel:"noreferrer",children:null!==e&&void 0!==e&&e.startsWith("/realms")||null!==e&&void 0!==e&&e.startsWith("/admin")?[i.authServerUrl.slice(0,i.authServerUrl.length-1),e].join(""):e})}},{width:"100px",visible:!0,title:"Enabled",dataIndex:"enabled",render:function(e){return(0,k.jsx)(I.Z,{defaultChecked:e,checked:e})}},{fixed:"right",visible:!0,width:"100px",title:"Action",render:function(e){return(0,k.jsx)(_.Z,{placement:"left",menu:(0,k.jsx)(A.Z,{children:(0,k.jsx)(A.Z.Item,{onClick:function(){n("".concat(x.sH,"/keycloak/clients/").concat(null===e||void 0===e?void 0:e.id,"/setting"))},icon:(0,k.jsx)(P.Z,{}),children:"Setting"})})})}}];return(0,a.useEffect)((function(){c(!0),U.Z.get("/admin/realms/".concat(i.realm,"/clients"),{params:g}).then((function(e){f(Array.isArray(null===e||void 0===e?void 0:e.data)?null===e||void 0===e?void 0:e.data:[]),c(!1)})).catch((function(e){console.log({err:e}),f([]),c(!1)}))}),[g]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(S.Z,{title:"Overview",extra:(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(d.Z,{align:"center",gap:10,children:[(0,k.jsx)(N.ZP,{loading:o,ghost:!0,onClick:function(){y((function(e){return(0,p.Z)({},e)}))},type:"primary",shape:"round",icon:(0,k.jsx)(R.Z,{}),children:"Refresh"}),(0,k.jsx)(N.ZP,{onClick:function(){n("".concat(x.sH,"/keycloak/clients/create"))},type:"primary",shape:"round",icon:(0,k.jsx)(O.Z,{}),children:"Create"})]})}),children:(0,k.jsx)(E.Z,{scroll:{x:768},columns:null!==(e=b.filter((function(e){return null===e||void 0===e?void 0:e.visible})))&&void 0!==e?e:[],loading:o,dataSource:v})})})},Y=t(3433),D=t(5140),H=t(6988),M=t(5928),F=t(1082),W=t(6955),G=t(6106),K=t(914),z=t(3623),V=t(411),q=t(2426),X=t.n(q),$=t(2622),B=t(3414),J=t(8029);var Q=function(){var e,n=(0,w.Eh)().keycloak,t=D.Z.useForm(),i=(0,Z.Z)(t,1)[0],r=(0,a.useState)(!1),l=(0,Z.Z)(r,2),o=l[0],c=l[1],s=(0,a.useState)(!1),u=(0,Z.Z)(s,2),v=u[0],f=u[1],h=(0,a.useState)([]),x=(0,Z.Z)(h,2),g=x[0],j=x[1],y=(0,a.useState)([]),b=(0,Z.Z)(y,2),C=b[0],T=b[1],I=(0,a.useState)({first:0,max:5}),A=(0,Z.Z)(I,2),P=A[0],_=A[1],L=(0,a.useState)(null),q=(0,Z.Z)(L,2),Q=q[0],ee=q[1],ne=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];j((function(t){return t[e]=n,null!==t&&void 0!==t?t:[]}))},te=[{visible:!0,title:"ID",dataIndex:"id"},{visible:!0,title:"Count",dataIndex:"count"},{visible:!0,title:"Remaining",dataIndex:"remainingCount"},{visible:!0,title:"Created At",dataIndex:"timestamp",render:function(e){return X().unix(e).isValid()?X().unix(e).format("DD MMMM YYYY HH:mm A"):"-"}},{visible:!0,title:"Expiration",dataIndex:"expiration",render:function(e,n){var t=n.timestamp;return X().unix(t).isValid()?X().unix(t).add(e,"seconds").format("DD MMMM YYYY HH:mm A"):"-"}},{visible:!0,title:"Action",dataIndex:"id",render:function(e,t,i){var r,l;return(0,k.jsx)(N.ZP,{icon:(0,k.jsx)($.Z,{}),ghost:!0,danger:!0,onClick:function(){return function(e,t){ne(t,!0),H.ZP.loading({key:"delete-item",content:"Loading deleted item",duration:10}).then((function(e){return e})),U.Z.delete("/admin/realms/".concat(n.realm,"/clients-initial-access/").concat(e)).then((function(n){204===(null===n||void 0===n?void 0:n.status)?(T((function(n){return(0,Y.Z)(n.map((function(n){return(0,p.Z)((0,p.Z)({},n),{},{deletedAt:e===(null===n||void 0===n?void 0:n.id)?X()():null})})))})),setTimeout((function(){ne(t,!1),T((function(n){return(0,Y.Z)(n.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==e})))})),H.ZP.success({key:"delete-item",content:"Successfully deleted item",duration:4}).then((function(e){return e}))}),1e3)):setTimeout((function(){ne(t,!1),T((function(n){return(0,Y.Z)(n.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==e})))})),H.ZP.error({key:"delete-item",content:"Error while deleting item",duration:4}).then((function(e){return e}))}),1e3)})).catch((function(){ne(t,!1),H.ZP.success({key:"delete-item",content:"Error while deleting item",duration:4}).then((function(e){return e}))}))}(e,i)},loading:null!==(r=null!==(l=g[i])&&void 0!==l?l:null===t||void 0===t?void 0:t.deletedAt)&&void 0!==r&&r})}}];return(0,a.useEffect)((function(){f(!0),U.Z.get("/admin/realms/".concat(n.realm,"/clients-initial-access"),{params:P}).then((function(e){T(Array.isArray(null===e||void 0===e?void 0:e.data)?null===e||void 0===e?void 0:e.data:[]),f(!1)})).catch((function(e){console.log({err:e}),T([]),f(!1)}))}),[P]),(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(S.Z,{title:"Access Token",extra:(0,k.jsx)(a.Fragment,{children:(0,k.jsxs)(d.Z,{align:"center",gap:10,children:[(0,k.jsx)(N.ZP,{loading:v,ghost:!0,onClick:function(){_((function(e){return(0,p.Z)({},e)}))},type:"primary",shape:"round",icon:(0,k.jsx)(R.Z,{}),children:"Refresh"}),(0,k.jsx)(N.ZP,{onClick:function(){c(!0)},type:"primary",shape:"round",icon:(0,k.jsx)(O.Z,{}),children:"Create"})]})}),children:(0,k.jsx)(E.Z,{scroll:{x:768},rowClassName:function(e){return null!==e&&void 0!==e&&e.deletedAt?"!bg-red-500 !bg-opacity-20":""},columns:null!==(e=te.filter((function(e){return null===e||void 0===e?void 0:e.visible})))&&void 0!==e?e:[],loading:v,dataSource:C,pagination:{responsive:!0,size:"small",pageSizeOptions:[5,10,25,50,75,100]}})}),(0,k.jsx)(M.Z,{maskClosable:!1,closable:!1,open:null!==Q,footer:[(0,k.jsx)(F.Z,{title:"Are you sure?",onConfirm:function(){ee(null)},children:(0,k.jsx)(N.ZP,{children:"Close"})})],destroyOnClose:!0,children:(0,k.jsxs)("div",{className:"!space-y-4",children:[(0,k.jsx)(W.Z,{message:"Initial access token details.",description:"Please copy and paste the initial access token before closing as it can not be retrieved later",type:"warning",showIcon:!0}),(0,k.jsx)("div",{className:"!cursor-pointer",children:(0,k.jsx)(J.CopyToClipboard,{text:Q,onCopy:function(){H.ZP.success("Successfully copied!").then((function(e){return e}))},children:(0,k.jsxs)("div",{className:"w-full truncate space-x-2 p-2 bg-slate-50 border border-slate-100 px-3 rounded-full",children:[(0,k.jsx)(B.Z,{}),(0,k.jsx)("span",{children:Q})]})})})]})}),(0,k.jsx)(M.Z,{destroyOnClose:!0,title:(0,k.jsx)(m.Z,{fluid:!0,children:"Client | Create Access Token"}),placement:"bottom",open:o,closable:!1,onOk:function(){i.validateFields().then((function(e){var t={};Reflect.set(t,"expiration",X().duration(null===e||void 0===e?void 0:e.expiration,null===e||void 0===e?void 0:e.expiration_uom).asSeconds()),Reflect.set(t,"count",null===e||void 0===e?void 0:e.count),f(!0),H.ZP.loading({key:"create-token",content:"Loading...",duration:10}).then((function(e){return e})),U.Z.post("/admin/realms/".concat(n.realm,"/clients-initial-access/"),t).then((function(e){var n;200===(null===e||void 0===e?void 0:e.status)?(H.ZP.success({key:"create-token",content:"Successfully created",duration:4}).then((function(e){return e})),c(!1),i.resetFields(),ee(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.token)):H.ZP.error({key:"create-token",content:"Error while creating token",duration:4}).then((function(e){return e}));f(!1),_((function(e){return(0,p.Z)({},e)}))})).catch((function(e){var n;H.ZP.error({key:"create-token",content:null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:"Error while creating token",duration:4}).then((function(e){return e})),f(!1)}))}))},onCancel:function(){c(!1),i.resetFields()},children:(0,k.jsx)(m.Z,{fluid:!0,children:(0,k.jsx)(D.Z,{form:i,initialValues:{expiration_uom:"days"},layout:"vertical",children:(0,k.jsxs)(G.Z,{gutter:24,className:"!mt-8",children:[(0,k.jsx)(K.Z,{xs:18,children:(0,k.jsx)(D.Z.Item,{name:"expiration",label:"Expiration",rules:[{required:!0},{min:1,type:"number"}],extra:"Sets the expiration for tokens. Expired tokens are periodically deleted from the database.",children:(0,k.jsx)(z.Z,{controls:!1,placeholder:"Input your expiration number",className:"!w-full",min:1})})}),(0,k.jsx)(K.Z,{xs:6,children:(0,k.jsx)(D.Z.Item,{name:"expiration_uom",label:" ",initialValue:"day",children:(0,k.jsx)(V.Z,{options:[{key:"seconds",value:"seconds",label:"Seconds"},{key:"minutes",value:"minutes",label:"Minutes"},{key:"hours",value:"hours",label:"Hours"},{key:"days",value:"days",label:"Days"}]})})}),(0,k.jsx)(K.Z,{xs:24,children:(0,k.jsx)(D.Z.Item,{name:"count",label:"Count",rules:[{required:!0},{min:1,type:"number"}],extra:"Specifies how many clients can be created using the token",children:(0,k.jsx)(z.Z,{className:"!w-full",min:1})})})]})})})})]})},ee=t(9992);var ne=function(){(0,j.s0)();var e,n=(0,w.Eh)().keycloak,t=(0,a.useState)(!1),i=(0,Z.Z)(t,2),r=(i[0],i[1]),l=(0,a.useState)(!1),o=(0,Z.Z)(l,2),c=o[0],s=o[1],u=(0,a.useState)([]),v=(0,Z.Z)(u,2),f=v[0],h=v[1],m=(0,a.useState)([]),x=(0,Z.Z)(m,2),g=x[0],y=x[1],b=(0,a.useState)({first:0,max:10,type:"org.keycloak.services.clientregistration.policy.ClientRegistrationPolicy"}),C=(0,Z.Z)(b,2),T=C[0],I=C[1],A=[{visible:!1,title:"ID",dataIndex:"id"},{visible:!0,title:"Name",dataIndex:"name"},{visible:!0,title:"Provider ID",dataIndex:"providerId"},{visible:!0,width:"140px",dataIndex:"id",render:function(e,t,i){var r,l,o,a;return(0,k.jsxs)(d.Z,{align:"center",gap:10,children:[(0,k.jsx)(N.ZP,{icon:(0,k.jsx)(P.Z,{}),shape:"circle",size:"small",loading:null!==(r=null!==(l=f[i])&&void 0!==l?l:null===t||void 0===t?void 0:t.deletedAt)&&void 0!==r&&r}),(0,k.jsx)(N.ZP,{icon:(0,k.jsx)($.Z,{}),ghost:!0,danger:!0,shape:"circle",size:"small",onClick:function(){return function(e,t){_(t,!0),H.ZP.loading({key:"delete-item",content:"Loading deleted item",duration:10}).then((function(e){return e})),U.Z.delete("/admin/realms/".concat(n.realm,"/components/").concat(e)).then((function(n){_(t,!1),y((function(n){return(0,Y.Z)(n.map((function(n){return(0,p.Z)((0,p.Z)({},n),{},{deletedAt:e===(null===n||void 0===n?void 0:n.id)?X()():null})})))})),setTimeout((function(){_(t,!1),y((function(n){return(0,Y.Z)(n.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==e})))})),H.ZP.success({key:"delete-item",content:"Successfully deleted item",duration:10}).then((function(e){return e}))}),1e3)})).catch((function(e){_(t,!1),H.ZP.success({key:"delete-item",content:"Error while deleting item",duration:10}).then((function(e){return e}))}))}(e,i)},loading:null!==(o=null!==(a=f[i])&&void 0!==a?a:null===t||void 0===t?void 0:t.deletedAt)&&void 0!==o&&o})]})}}],_=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h((function(t){return t[e]=n,null!==t&&void 0!==t?t:[]}))};return(0,a.useEffect)((function(){s(!0),U.Z.get("/admin/realms/".concat(n.realm,"/components"),{params:T}).then((function(e){y(Array.isArray(null===e||void 0===e?void 0:e.data)?null===e||void 0===e?void 0:e.data.filter((function(e){return"anonymous"===(null===e||void 0===e?void 0:e.subType)})):[]),s(!1)})).catch((function(e){y([]),s(!1)}))}),[T]),(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(S.Z,{title:"Overview",extra:(0,k.jsx)(a.Fragment,{children:(0,k.jsxs)(d.Z,{align:"center",gap:10,children:[(0,k.jsx)(N.ZP,{loading:c,ghost:!0,onClick:function(){I((function(e){return(0,p.Z)({},e)}))},type:"primary",shape:"round",icon:(0,k.jsx)(R.Z,{}),children:"Refresh"}),(0,k.jsx)(N.ZP,{onClick:function(){r(!0)},type:"primary",shape:"round",icon:(0,k.jsx)(O.Z,{}),children:"Create"})]})}),children:(0,k.jsx)(E.Z,{scroll:{x:768},rowClassName:function(e){return null!==e&&void 0!==e&&e.deletedAt?"!bg-red-500 !bg-opacity-20":""},columns:null!==(e=A.filter((function(e){return null===e||void 0===e?void 0:e.visible})))&&void 0!==e?e:[],loading:c,dataSource:g})}),(0,k.jsx)(ee.Z,{title:"Create Client Registration",children:(0,k.jsx)("p",{children:"testing"})})]})},te=function(e){(0,l.Z)(t,e);var n=(0,o.Z)(t);function t(){return(0,i.Z)(this,t),n.apply(this,arguments)}return(0,r.Z)(t,[{key:"render",value:function(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.Z,{children:(0,k.jsx)(m.Z,{children:(0,k.jsxs)("div",{className:"py-4",children:[(0,k.jsxs)(s.Z,{className:"mb-4",children:[(0,k.jsx)(s.Z.Item,{href:"".concat(x.sH),children:"App"}),(0,k.jsxs)(s.Z.Item,{children:[(0,k.jsx)(v.Z,{})," ",(0,k.jsx)("span",{children:"Keycloak"})]}),(0,k.jsxs)(s.Z.Item,{children:[(0,k.jsx)(f.Z,{})," ",(0,k.jsx)("span",{children:"Clients"})]})]}),(0,k.jsx)(d.Z,{justify:"space-between",align:"start",children:(0,k.jsx)(u.Z.Title,{level:1,children:"Clients"})})]})})}),(0,k.jsx)("div",{className:"!-mt-[45px]",children:(0,k.jsx)(m.Z,{children:(0,k.jsx)(T,{defaultTab:"overview",paramsKey:"tab",mode:"top",onListen:function(){},items:[{key:"overview",title:"Overview",render:function(){return(0,k.jsx)(t.Overview,{})}},{key:"initial_access_token",title:"Initial Access Token",render:function(){return(0,k.jsx)(t.InitialAccessToken,{})}},{key:"client_registration",title:"Client Registration",render:function(){return(0,k.jsx)(t.ClientRegistration,{})}}]})})})]})}}]),t}(a.Component);te.Overview=L,te.InitialAccessToken=Q,te.ClientRegistration=ne;var ie=(0,c.$j)((function(){return{}}))(te)}}]);
//# sourceMappingURL=437.44db65a0.chunk.js.map